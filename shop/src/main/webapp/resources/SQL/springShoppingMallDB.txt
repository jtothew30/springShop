--����
drop table account; 
create table account(
	id varchar2(100) not null,
	pw varchar2(100) not null,
	name varchar2(100) not null,
	age number(7) not null,
	gender varchar2(50) not null,
	email varchar2(100) not null,
	phone varchar2(100) not null,
	adate date not null,	
	primary key(id)
);
commit;



drop sequence seqaddr;
create sequence seqaddr
 start with 1
 increment by 1;
commit;


--����� ���̺�
drop table address; 
create table address(  
	addrno number(7) not null, 	   --����� ��ȣ  		
	customer varchar2(100) not null,   --�ֹ��� id
	addrname varchar2(100) not null,   --����� �̸�
	recipient varchar2(100) not null,  --�޴� ��� �̸�
	base varchar2(50) not null,	   --�⺻ ����� �÷��� true/false
	addr1 varchar2(200) not null,	   --�ּ�1
	addr2 varchar2(200) not null,	   --�ּ�2
	phone varchar2(100) not null,	   --����ó
	usedate date not null,		   --�ֱ� ��� ��¥
	primary key(addrno)	
);
commit;




drop sequence seqpro;
create sequence seqpro
 start with 10000
 increment by 1;
commit;

--��ǰ
drop table production; 
create table production(
	pno number(7) not null,		 --��ǰ��ȣ
	pname varchar2(150) not null,    --��ǰ��
	brand varchar2(150) not null,    --�������
	inprice number(7) not null,      --�԰���
	outprice number(7) not null,     --���簡��
	category1 varchar2(100) not null, --ū ī�װ�(ex.�Ƿ�/��ȭ...)
	category2 varchar2(100) not null, --�߰� ī�װ�(ex.�����Ƿ�/�����Ƿ�...)
	category3 varchar2(100) not null, --���� ī�װ�(ex.Ƽ����/���콺...)
	options varchar2(100) not null,	  --�ɼ�	
	script varchar2(300) not null,    --�ΰ�����
	sales number(7) not null,          --�Ǹŷ�
	primary key(pno)
);
commit;

drop sequence seqboard;
create sequence seqboard
 start with 1
 increment by 1;
commit;

--��ǰ �Խ���
drop table proboard;   
create table proboard(
	pbno number(7) not null,
	title varchar2(150) not null,
	pbdate date not null,
	price number(7) not null,      --������
	event number(7) not null,      --���ΰ���(if.�԰��� != ���簡�� )
	totalsales number(7) not null, --�� �Ǹŷ�(��ǰ �Ǹŷ����� ����)
	primary key(pbno)
);
commit;

--�� ��ǰ,��ǰ�Ǹű� ���� ���̺�
drop table procontain;
create table procontain(
	pbno number(7) not null,	--��ǰ �Խñ� ��ȣ ����
	pname varchar2(150) not null,	--�ش� ��ǰ�� ���� ��ǰ�� �̸�
	path varchar2(200) not null	--�̹��� ���
);
commit;

alter table procontain drop constraint contain_fk; 
alter table procontain add constraint contain_fk 
        foreign key(pbno) references  proboard(pbno) on delete cascade;
commit;




--��ǰ ���
drop table prostock;
create table prostock(
	pno number(7) not null,
	count number(7) not null
);
commit;



--��ٱ���
drop table cart;  
create table cart( 
	pno number(7) not null,		  --��ٱ��Ͽ� ��� ��ǰ ����
	pbno number(7) not null, 	  --��ǰ �Խñ� ����
	customer varchar2(100) not null,  --�̿��� id
	count number(7) not null,         --����
	price number(7) not null,         --���� ����
	cartdate date not null	          --��ٱ��� ��� ��¥
);
commit;



drop sequence seqpay;
create sequence seqpay
 start with 1 
 increment by 1;
commit;

--��������(����)
drop table payment;
create table payment(
	payno number(7) not null,	  --������ȣ
	customer varchar2(100) not null,  --������ id
	recipient varchar2(100) not null,  --�޴� ��� �̸�
	payname varchar2(100) not null,   --������ ��ǰ�̸�
	address1 varchar2(200) not null,  --����� �ּ�1
	address2 varchar2(200) not null,  --����� �ּ�2
	memo varchar2(300) not null,	  --���� �� or ��û
	paydate date not null,            --���� ��¥
	status varchar2(100) not null,    --���� ����(��������,�����Ϸ�,����ȯ��)
	total number(7) not null,         --�� ����
	primary key(payno)
);
commit;



drop sequence seqreq;
create sequence seqreq
 start with 1
 increment by 1;
commit;

--������û(��ǰ��)
drop table payrequest;
create table payrequest(
	reqno number(7) not null,	  --������û��ȣ	
	customer varchar2(100) not null,  --������ id
	pno number(7) not null,		  --��ǰ ���� ����
	pbno number(7) not null, 	  --��ǰ �Խñ� ����
	count number(7) not null,	  --����
	price number(7) not null,	  --���� ����	
	status varchar2(100) not null,    --���� ����(��������,�����Ϸ�,����ȯ��)
	payno number(7) not null,	  --�������� ������ ����
	primary key(reqno)
);
commit;

	


drop sequence seqrev;
create sequence seqrev
 start with 1
 increment by 1;
commit;


--��ǰ ����
drop table review;
create table review(
	rno  number(7) not null,	--�����ȣ
	writer varchar2(100) not null,  --����ۼ��� id
	content varchar2(500) not null, --��۳���
	img varchar2(300),		--÷���̹���
	stars number(7),		--����
	qna varchar2(50) not null,	--QnA �÷���
	pbno number(7) not null		--��ǰ �Խ��� ����
	primary key(rno)
);
commit;



set linesize 15000
col id for a10
col pw for a10
col name for a10
col age for 999
col gender for a10
col phone for a15
col email for a20
col adate for a10

col pno for 99999
col pname for a20
col brand for a10
col inprice for 999999
col outprice for 999999
col category1 for a10
col category2 for a10
col category3 for a10
col options for a25
col script for a15
col sales for 99999

col pbno for 99999
col title for a50
col pbdate for a15
col price for 999999
col event for 999999
col totalsales for 99999


col customer for a15
col count for 999
col status for a10
col cartdate for a15


col payno for 9999
col address1 for a15
col address2 for a15
col memo for a30
col paydate for a15
col status for a10
col total for 999999

col addrno for 9999
col addrname for a15
col recipient for a15
col base for a10
col addr1 for a20
col addr2 for a20
col phone for a13
col memo for a20




--dummy production
insert into production values(seqpro.nextval, 'Į������������3��', 'CALLIBASIC', 50000, 50000, '��ȭ', '��������', '�����', 'Į������������3��(�׷���)', 'none', 0);
insert into production values(seqpro.nextval, 'Į������������3��', 'CALLIBASIC', 50000, 50000, '��ȭ', '��������', '�����', 'Į������������3��(���̺�)', 'none', 0);
commit;

insert into proboard values(seqboard.nextval, 'Ư�� ����! Į������������3�� ��Ʈ!', sysdate, 50000, 50000, 0);
commit;

insert into procontain values(1, 'Į������������3��');
commit;


--dummy address
insert into address values(seqaddr.nextval, 'testID', '�׽�Ʈ�ּ�', '�޴���1', 'true', '�ֿ������ҿ�����������1', '�ֿ�����Ҽҿ�����2', '010-1234-4567', sysdate);
insert into address values(seqaddr.nextval, 'testID', '�׽�Ʈ�ּ�', '�޴���2', 'false', 'juso111111111111', 'juso222222222222222', '010-1234-4567', sysdate);
insert into address values(seqaddr.nextval, 'testID', '�׽�Ʈ�ּ�', '�޴���3', 'false', '�ּ�3333333333333333', '�ּ�4444444444444444444', '010-1234-4567', sysdate);

commit;

